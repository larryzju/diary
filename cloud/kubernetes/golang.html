<!DOCTYPE html>
<html>
	<head>
		<title>golang.org</title>
		<link rel="stylesheet" href="/diary/resources/css/main.css" />
		<link rel="stylesheet" href="/diary/resources/highlight/styles/default.css" />
		<script src="/diary/resources/js/jquery-3.4.1.min.js"></script>
		<script src="/diary/resources/js/swgen.js"></script>
		<script src="/diary/resources/highlight/highlight.pack.js"></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
		<script>hljs.initHighlightingOnLoad();</script>
	</head>
	<body>
		<nav id='content'>
		</nav>
		<section class="main-article-area">
			<div id='main'>
				<h1 id="client">Client</h1>
<h2 id="create">create</h2>
<ul class="incremental">
<li>Create <code>kuberentes.ClientSet</code> by call <code>k8s.io/kuberenets.NewForConfig()</code>.</li>
<li>The <code>ClientSet</code> is an object that implement interface <code>kubernetes.Interface</code></li>
<li>Generate config object via <code>"client.go/tools/clientcmd".BuildConfigFromFlag</code></li>
</ul>
<h2 id="mock">mock</h2>
<ul class="incremental">
<li><code>kubernetes/fake</code> package provides <code>fake/ClientSet</code> type</li>
<li>Build an empty <code>fake/ClientSet</code> object and call <code>.Fake.AddReactor</code> to mock the actions</li>
</ul>
<h1 id="sigs.k8s.iocontroller-runtime">sigs.k8s.io/controller-runtime</h1>
<p>Help to construct kubernetes-style controllers that manipulate both</p>
<ol class="incremental">
<li>kubernetes CRDs</li>
<li>aggregated/built-in Kubernetes APIs</li>
</ol>
<ul class="incremental">
<li><strong>Controller</strong> enqueue a reconcile request for the object owner</li>
<li><strong>Reconciler</strong> consume and try to reconcile the CR object statu</li>
<li><strong>Manager</strong> is responsible for
<ul class="incremental">
<li>running controllers and webhooks</li>
<li>manage caches and clients</li>
<li>managing leader election</li>
</ul></li>
<li><strong>Client</strong> wrap the underlying API objects
<ul class="incremental">
<li><strong>read</strong> from a local shared cache</li>
<li><strong>write</strong> directly to the PAI server</li>
<li><strong>Cache</strong> can be disabled</li>
</ul></li>
<li><strong>Scheme</strong> helps to associate Go types to Kuberenets API Kinds (Group-Version-Kinds)</li>
</ul>

			</div>
		</section>
	</body>
</html>
