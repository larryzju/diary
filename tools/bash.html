<!DOCTYPE html>
<html>
	<head>
		<title>bash.org</title>
		<link rel="stylesheet" href="/diary/resources/css/main.css" />
		<link rel="stylesheet" href="/diary/resources/highlight/styles/default.css" />
		<script src="/diary/resources/js/jquery-3.4.1.min.js"></script>
		<script src="/diary/resources/js/swgen.js"></script>
		<script src="/diary/resources/highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
	</head>
	<body>
		<nav id='content'>
		</nav>
		<section class="main-article-area">
			<div id='main'>
				<h1 id="condition">Condition</h1>
<dl class="incremental">
<dt><code>-r</code></dt>
<dd>readable
</dd>
<dt><code>-f</code></dt>
<dd>regular file test
</dd>
</dl>
<h1 id="sed">Sed</h1>
<dl class="incremental">
<dt><code>basename</code></dt>
<dd><code>echo $0 | sed -e 's:^.*/::'</code>
</dd>
</dl>
<h1 id="os">OS</h1>
<dl class="incremental">
<dt><code>uname -s</code></dt>
<dd>return "Linux", "SunOS" ..
</dd>
<dt><code>uname -r</code></dt>
<dd>linux kernel version, such as <code>3.10.0-862.11.6.el7.x86_64</code>
</dd>
</dl>
<h1 id="special-variable">Special Variable</h1>
<dl class="incremental">
<dt><code>$#</code></dt>
<dd>parameters' count
</dd>
</dl>
<h1 id="process">Process</h1>
<p>Processes makes up a tree. Each process has its own environment.</p>
<p>It takes two steps to execute a program:</p>
<ol class="incremental">
<li>make a copy of bash itself (fork), this will inherit environment of bash</li>
<li>replace with program itself</li>
</ol>
<p>Bash defines its variable by <code>NAME=VALUE</code> which cannot be seen from subprocess. But we need to <code>export</code> the variable to environment.</p>
<p>Bash would spawn new subshell in following scenarios:</p>
<ol class="incremental">
<li>execute command (use <code>source script</code> to import code rather than execute script)</li>
<li>pipe</li>
<li>subshell. For example, <code>(subcommand) &gt;output.txt</code></li>
<li>command substitution: <code>A=$(cat /etc/passwd | wc -l)</code></li>
</ol>
<p>Two ways to check variables:</p>
<ol class="incremental">
<li><code>set</code>: list shell variables</li>
<li><code>env</code>: list environment variables (only variables been exported)</li>
</ol>

			</div>
		</section>
	</body>
</html>
