<!DOCTYPE html>
<html>
	<head>
		<title>cscpp.org</title>
		<link rel="stylesheet" href="/diary/resources/css/main.css" />
		<link rel="stylesheet" href="/diary/resources/highlight/styles/default.css" />
		<script src="/diary/resources/js/jquery-3.4.1.min.js"></script>
		<script src="/diary/resources/js/swgen.js"></script>
		<script src="/diary/resources/highlight/highlight.pack.js"></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
		<script>hljs.initHighlightingOnLoad();</script>
	</head>
	<body>
		<nav id='content'>
		</nav>
		<section class="main-article-area">
			<div id='main'>
				<h1 id="计算机系统漫游">计算机系统漫游</h1>
<h2 id="为什么">为什么</h2>
<ul class="incremental">
<li>硬件与软件共同构成了计算机系统</li>
<li>万变不离其宗，只有学好了计算机原理方能写好程序</li>
</ul>
<h2 id="存储">存储</h2>
<h3 id="主存磁盘寄存器io-设备">主存、磁盘、寄存器、IO 设备</h3>
<p>程序的一个主要开销在于，将数据在不同的存储和 I/O 设备之间搬移。</p>
<p>寄存器速度高于主存速度，而且差距会更加加大。在两者之前通过高速缓存来提供速度与容量的折中。缓存一般有 L1,L2 或 L3 三级。</p>
<h3 id="存储器层次结构">存储器层次结构</h3>
<p><img src="./storage_level.png" /></p>
<h2 id="操作系统">操作系统</h2>
<h3 id="作用">作用</h3>
<ol class="incremental">
<li>防止失控的程序对硬件的滥用</li>
<li>提供高层次的硬件功能抽象</li>
</ol>
<h3 id="部件">部件</h3>
<ul class="incremental">
<li>虚拟存储器</li>
<li>进程</li>
<li>文件</li>
</ul>
<ol class="incremental">
<li><p>进程</p>
<p>进程是操作系统正在运行的程序的一个抽象。</p>
<p>多个进程被 CPU 调度执行，涉及操作系统之间的上下文切换。进程的上下文切换需要通过操作系统保存进程的状态，如 PC、寄存器的值、内存</p></li>
<li><p>线程</p>
<p>进程中可以有多个线程。线程之间共享代码和全局数据，更方便进行共享数据，某些场景下比进程更加高效</p></li>
<li><p>虚拟存储器</p>
<p>为进程提供一个干净的工作环境，使进程看到的是独立完整的主存空间</p>
<p><img src="./virtual_address_space.png" /></p>
<ol class="incremental">
<li><p><span class="todo TODO">TODO</span> 共享库映射区域为什么夹在堆和栈之间？</p></li>
</ol></li>
</ol>
<h2 id="并发与并行">并发与并行</h2>
<p>计算机的发展有两个目标：更多和更快。并发 (concurrency) 目的是更多，并行 (parallelism) 是更快。 但实践中两者普遍同时存在不同的层次中。</p>
<h3 id="线程级并发">线程级并发</h3>
<p>在单处理器硬件上，通过进行上下文切换模拟出多个线程同时进行的“假象”。不仅有利于对交互性的支持，同时有利于对于 I/O 密集性操作的性能优化。</p>
<p>在出现多核和超线程系统后，利用硬件提供的并行能力，真正提供了更好的并行性能</p>
<h3 id="指令级并发">指令级并发</h3>
<p>基本原理上一个指令需要多个时钟周期来完成。</p>
<p>通过流水线技术，可以优化到多个时钟周期内执行多个指令。</p>
<p>而超标量技术甚至可以使用一个时钟周期内执行多个指令。</p>
<h3 id="单指令多数据并行">单指令，多数据并行</h3>
<p>SIMD 技术，常用于多媒体的处理。GCC 编译中提供特殊的向量数据进行此类数据优化处理。</p>
<h2 id="抽象">抽象</h2>
<h3 id="api-对细节的抽象">API 对细节的抽象</h3>
<h3 id="指令集对处理器的抽象">指令集对处理器的抽象</h3>
<h3 id="文件对-io-的抽象">文件对 I/O 的抽象</h3>
<h3 id="虚拟存储对程序存储的抽象">虚拟存储对程序存储的抽象</h3>
<h3 id="进程对程序执行的抽象">进程对程序执行的抽象</h3>
<h3 id="虚拟机对整个计算机的抽象">虚拟机对整个计算机的抽象</h3>
<h1 id="第一部分-程序结构和执行">第一部分 程序结构和执行</h1>
<h2 id="信息的表示和处理"><span class="todo TODO">TODO</span> 信息的表示和处理</h2>
<h2 id="程序的机器级表示"><span class="todo TODO">TODO</span> 程序的机器级表示</h2>
<h2 id="处理器体系结构">处理器体系结构</h2>
<ul class="incremental">
<li>ISA，指处理器指令和指令处理的数据集</li>
<li>作为在编译器与处理器之间中间层
<ul class="incremental">
<li>编译器只需要知道哪些指令可用</li>
<li>处理器建造出执行这些指令的处理器</li>
</ul></li>
</ul>

			</div>
		</section>
	</body>
</html>
