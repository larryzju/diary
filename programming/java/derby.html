<!DOCTYPE html>
<html>
	<head>
		<title>derby.org</title>
		<link rel="stylesheet" href="/diary/_resources/css/main.css" />
		<script src="/diary/_resources/js/jquery-3.4.1.min.js"></script>
		<script src="/diary/_resources/js/swgen.js"></script>
	</head>
	<body>
		<nav id='content'>
		</nav>
		<section class="main-article-area">
			<div id='main'>
				<h1 id="derby-tutorial-备忘">derby tutorial 备忘</h1>
<h2 id="安装与验证">安装与验证</h2>
<ol class="incremental">
<li>解压</li>
<li>设置 <code>DERBY_INSTALL</code> 环境变量，并使用 <code>./bin/setXXXX</code> 来设置 CLASSPATH</li>
<li><p>或者手动设置 CLASSPATH</p>
<ul class="incremental">
<li>derby.jar: 基本的 embedded 服务</li>
<li>derbytools.jar: ij, sysinfo 工具</li>
<li>derbynet.jar: Network Server</li>
<li>derbyrun.jar: 服务管理</li>
</ul></li>
<li><p>使用 <code>java org.apache.derby.tools.sysinfo</code> 来验证</p></li>
</ol>
<h2 id="ij-命令">ij 命令</h2>
<blockquote>
<p>类似于 beeline 之于 hive</p>
</blockquote>
<p>通过 <code>java org.apache.derby.tools.ij</code> 进入</p>
<ul class="incremental">
<li>=connect 'jdbc:derby:MyDbTest;create=true'=</li>
<li>=run 'my<sub>file</sub>.sql'=</li>
</ul>
<h2 id="embedded-vs-network-server">embedded vs network server</h2>
<ul class="incremental">
<li>嵌入模式下 derby 实例与 JDBC 运行在同一个 JVM 中，同一时刻只能有一个 JVM 操作库</li>
<li>network server 通过框架启动 derby 实例，并以 JDBC ( network client ) 方式处理多客户端请求</li>
</ul>
<h2 id="启动-network-server">启动 network server</h2>
<ul class="incremental">
<li><code>bin/startNetworkServer</code> 启动监听 1527 端口</li>
<li><code>java -jar derbyrun.jar server start</code></li>
</ul>

			</div>
		</section>
	</body>
</html>
